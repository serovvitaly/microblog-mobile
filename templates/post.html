{% extends 'layout.html' %}

{% block title %}{{ item.title }}{% endblock %}

{% block og_meta %}
<meta property="og:title" content="{{ item.title }}" />
<meta property="og:description" content="{{ item.annotation|striptags }}" />
<meta property="og:type" content="article" />
<meta property="og:image" content="{{ item.image }}" />
{% endblock %}

{% block content %}
<h2 class="title">{{ item.title }}</h2>
<hr>
<div id="postContent" class="post-content" style="max-height: 700px; overflow: hidden;">
    {{ post_content|safe }}
</div>
<div id="collapseContainer" style="display: none;">
    <button type="button" class="btn btn-warning btn-block btn-lg" onclick="doCollapse();">
        <strong>СВЕРНУТЬ</strong>
    </button>
</div>
<div id="expandContainer" style="display: none;">
    <div class="post-gradient gradient"></div>
    <hr>
    <button type="button" class="btn btn-info btn-block btn-lg" onclick="doExpand();">
        <strong>РАСКРЫТЬ ПОЛНОСТЬЮ</strong>
    </button>
</div>
<script>
    function doExpand() {
        document.getElementById('postContent').style.maxHeight = null;
        document.getElementById('expandContainer').style.display = 'none';
        document.getElementById('collapseContainer').style.display = 'block';
    }
    function doCollapse() {
        document.getElementById('postContent').style.maxHeight = '700px';
        document.getElementById('expandContainer').style.display = 'block';
        document.getElementById('collapseContainer').style.display = 'none';
    }
    if (document.getElementById('postContent').scrollHeight > document.getElementById('postContent').clientHeight) {
        document.getElementById('expandContainer').style.display = 'block';
    }
</script>
<hr>
{% include 'widget/interesting-posts.html' %}
{% endblock %}
